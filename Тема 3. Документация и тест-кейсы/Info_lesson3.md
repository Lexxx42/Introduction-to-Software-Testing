# Модуль 3. Документация и тест-кейсы

## Детализированность документации, процессов и отчётов

В этом модуле мы поговорим про различные виды требований, их детализацию, а
также про то, каким может быть тестирование в зависимости от степени детализации
требований.

В нашем курсе мы будем придерживаться следующего неформального определения:

**«Требования – это задокументированные и четко описанные ожидания
заказчика от продукта».**

Тестирование будет также различаться в зависимости от степени детализации
требований:

+ Интуитивное (ad-hoc) тестирование предполагает отсутствие требований.
  Тестировщики выполняют те действия, которые почитают правильными и
  проверяют соответствие поведения продукта своим собственным ожиданиям.
+ Тестирование по документации/спецификации противоположно интуитивному
  тестированию. При таком подходе все тестовые процедуры формализованы и
  согласованы с заинтересованными лицами.

Аналогично способам тестирования, сами результаты и процессы тестирования
бывают как не задокументированы совсем, так и оформлены в виде подробных инструкций
и отчётов. Стоит отметить, что в крупных проектах детальное оформление процессов и
отчётов особо необходимо для того, чтобы тестирование можно было воспроизвести и
проверить его результат.

Чаще всего на практике процесс тестирования, форма отчётности и
документирования, выбранные той или иной организацией, не являются сугубо
«интуитивным» или полностью формализованными, а располагаются где-то посередине:
что-то документировано, что-то приходится додумывать самостоятельно.

## Чек-лист проверки документации

Условно можно признать, что документация – это всё то, что не является кодом:
спецификации, диаграммы, инструкции, комментарии, переписки. Часто количество строк
документации больше количества строк кода. И чем корректнее документация, тем проще
работать с ней всем участникам процесса разработки.

Хорошая документация должна отвечать трем законам формальной логики: быть
непротиворечивой, полной и однозначной.

Поскольку после принятия документации в работу часто бывает сложно внести в неё
изменения, мы предлагаем воспользоваться следующим чек-листом проверки:

1. Подходит ли документация для аудитории? Если детальная спецификация
   предназначена для инженеров поддержки, которым не интересно и не важно, что
   происходит «внутри» кода, то документацию следует упростить и подготовить для
   соответствующей аудитории. Аналогично, в документации для тестировщиков стоит
   сосредоточиться на взаимодействии с продуктом и способах проверки его
   работоспособности.
2. Правильно ли используется терминология?
3. Сокращения и аббревиатуры – понятны ли, согласованы ли? Аббревиатур в ИТ-мире
   много, и одна и та же аббревиатура на различных проектах может иметь разную
   расшифровку.
4. Всё ли покрыто требованиями? Функциональность, выполняемые команды,
   особенности поведения продукта при тех или иных условиях.
5. Достаточно и одинаково ли глубоко представлены требования?
6. Корректна ли техническая информация?
7. Правильны и корректны ли ссылки и подписи? Нет ли неработающих или
   неактуальных ссылок?
8. Все ли примеры и ссылки ведут на последние версии ПО?
9. Верно ли оформлены требования с точки зрения грамматики?
10. Согласовано ли понимание документации с заказчиком? Все ли заинтересованные
    лица согласны с содержанием документации?

## Форматы тест-кейсов

Перед тем, как перейти к обсуждению форматов тест-кейсов, давайте дадим
определение самому тест-кейсу. Глоссарий ISTQB предполагает три определения: test, test
case, case. CASE – аббревиатура, которая явно не имеет отношения к материалу текущего
модуля. Test и test case – два разных понятия, но часто на практике эти определения
оказываются условно взаимозаменяемыми. Мы будем придерживаться следующего
значения:

**Тест-кейс** - артефакт, разработанный на основании условий тестирования,
описывающий совокупность предварительных действий, шагов, конкретных условий и
параметров (в случае применимости), ожидаемых результатов и действий, после
завершения тестирования.

Оригинальное определение:

**Test case** - a set of input values, execution preconditions, expected results and execution
postconditions, developed for a particular objective or test condition, such as to exercise a
particular program path or to verify compliance with a specific requirement.

Перейдем к тому, насколько задокументированным может быть процесс
тестирования. Начнём с того, что он может быть никак не задокументированным.
**Тестирование без документации/спецификации** основывается на интуитивном подходе.
Преимущества такого подхода в отсутствии накладных расходов на тестирование,
документирование, записывание шагов и т.д. В реальных проектах такой подход часто
используется на начальном этапе разработки. Минусы подхода в том, что результаты такого
тестирования часто неповторимы при выполнении разными тестировщиками. Также
тестирование без документации часто требует глубокого понимания продукта.

Следующим видом оформления тест-кейсов становятся **чек-листы**. «Чек-лист – это
набор действий, которые необходимо выполнить перед тем, как начать
думать» (А. Гаванде). Чек-листы опираются на интуитивность и хорошо работают на
небольших продуктах или при проверке небольшой функциональности. Часто при
составлении чек-листов используются широкие по значению термины (например,
«приложение должно запускаться» или «приложение должно работать»). При составлении
чек-листов важно избегать лишней информации. Минусы чек-листов в том, что они
становятся бесполезны при малейших неточностях, например, разнице в поведении в
зависимости от конфигурации, при выполнении сложных сценариев, например, много
функциональностей взаимодействуют между собой, а также при поиске причин «падения».

Перейдем к следующему формату – **lean тест-кейсам**. Их использование подробно
освещалось на конференциях по тестированию в последние годы, поэтому мы решили
включить их описание в этот курс. По своему содержанию техника находится посередине
между чек-листами и классическими тест-кейсами. В lean тест-кейсы можно добавлять
специфическую мета-информацию, которую не добавляют в чек-листы. При составлении
lean тест-кейсов отдельное внимание уделяется исключению «лишних» данных и описанию
предварительных условий, а также действий, выполняемых по завершению тест-кейса. Lean
тест-кейсы обладают теми же недостатками, что и чек-листы: их сложно использовать для
обучения, а также для формирования детальных отчётов.

Следующий тип тест-кейсов – классические тест-кейсы. Рассмотрим, какие поля в
них обычно включаются:

+ Идентификатор и имя. Способ поиска и обращения к тест-кейсу.
+ Заголовок. Краткое описание того, что проверяется в тесте.
+ Настройка или Setup. То, что делается перед запуском самих тестов. Настройка
  параметров окружения для того, что привести продукт в состояние, в котором можно
  проверить ту функциональность, которую мы собираемся тестировать.
  В соответствии с ресурсом https://glossary.istqb.org/en/term/test-case-3 (дата обращения 12.01.2022)
+ Действия. Пошаговое описание того, что нужно сделать, чтобы проверить
  функциональность.
+ Данные. Отдельное описание данных, которые нужно использовать при
  выполнении действий.
+ Ожидаемый результат.
+ Уборка или Tear down. Список действий, необходимый для того, чтобы вернуть
  систему в изначальное состояние, в котором она была.
+ Финальное состояние. Состояние, которое система должна поддерживать после
  завершения тест-кейса.

Помимо описанных полей в различных системах управления проектами и
продуктами могут добавляться следующие поля:

+ Единица тестирования. Что тестируется?
+ Причина тестирования. То требование, которое вызвало появление тест-кейса.
+ Описание.
+ Предусловия. Часто пересекается с настройкой. Здесь может отображаться,
  например, метод исполнения (выполнять тест автоматизированным способом или
  вручную).
+ Статус. Тест-кейс может быть «свежим», может быть шаблоном для других тесткейсов, может быть «на ревью» или
  «устаревшим».
+ Приоритет. У различных тест-кейсов могут быть различные уровни важности.
+ Тэги. Для удобства поиска в базе.

Говоря о приоритете, стоит отметить, что в тестировании часто используются два
понятия: Severity и Priority.

+ Severity. Относится к функциональности системы, тому, насколько серьезно она
  повреждена или будет повреждена, если тест «упадет».
+ Priority. Относится к планированию работ над системой. Отображает то, насколько
  резко и быстро необходимо реагировать на то, что указанный тест не проходит.

Следующий класс описания тестов – **тест-сценарии**. Тест-кейсы – это атомарные
действия, в то время, как тест-сценарии – это сложные процедуры, которые включают в
себя много действий над различными системами. Часто тест-сценарии используются при
интеграционном и системном тестировании. Часто сценарии также называют «тесткейсами», но условно «большими».
